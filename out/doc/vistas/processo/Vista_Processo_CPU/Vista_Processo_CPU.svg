<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="570px" preserveAspectRatio="none" style="width:910px;height:570px;background:#FFFFFF;" version="1.1" viewBox="0 0 910 570" width="910px" zoomAndPan="magnify"><defs><filter height="300%" id="f9kcj1kyrgbrs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="465.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="51.6094"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="281" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="196.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="345" y="224.2734"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="511" y="330.3281"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="826" y="360.6797"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="208" x="308" y="239.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="41.6094" y2="525.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="286" x2="286" y1="41.6094" y2="525.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="350" x2="350" y1="145.2656" y2="525.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="515.5" x2="515.5" y1="41.6094" y2="525.7344"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="831" x2="831" y1="41.6094" y2="525.7344"/><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="44" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="12" y="26.5332">Main</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="44" x="5" y="524.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="12" y="546.2676">Main</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="40" x="264" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="271" y="26.5332">Utils</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="40" x="264" y="524.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="271" y="546.2676">Utils</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="60" x="318" y="524.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="325" y="546.2676">Thread</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="475.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="482.5" y="26.5332">PowerLog</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="475.5" y="524.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="482.5" y="546.2676">PowerLog</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="134" x="762" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="769" y="26.5332">Intel Power Gadget</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="134" x="762" y="524.7344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="769" y="546.2676">Intel Power Gadget</text><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="465.125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="51.6094"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="281" y="73.9609"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="196.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="345" y="224.2734"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="60.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="511" y="330.3281"/><rect fill="#FFFFFF" filter="url(#f9kcj1kyrgbrs)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="826" y="360.6797"/><polygon fill="#A80036" points="269,69.9609,279,73.9609,269,77.9609,273,73.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="275" y1="73.9609" y2="73.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="41" y="69.1045">initialize_files()</text><polygon fill="#A80036" points="306,130.3125,316,134.3125,306,138.3125,310,134.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="312" y1="134.3125" y2="134.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="41" y="129.4561">create(target = process_usage, args = 0)</text><rect fill="#FEFECE" filter="url(#f9kcj1kyrgbrs)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="60" x="318" y="111.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="325" y="133.4941">Thread</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="180.9219" y2="180.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="180.9219" y2="193.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="193.9219" y2="193.9219"/><polygon fill="#A80036" points="45,189.9219,35,193.9219,45,197.9219,41,193.9219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="41" y="176.0654">pid = getpid()</text><polygon fill="#A80036" points="333,220.2734,343,224.2734,333,228.2734,337,224.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="339" y1="224.2734" y2="224.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="41" y="219.417">start()</text><path d="M308,239.2734 L381,239.2734 L381,247.2734 L371,257.2734 L308,257.2734 L308,239.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:2.0;" width="208" x="308" y="239.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="323" y="253.7686">loop</text><line style="stroke:#A80036;stroke-width:1.0;" x1="355" x2="397" y1="279.9766" y2="279.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397" x2="397" y1="279.9766" y2="292.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="356" x2="397" y1="292.9766" y2="292.9766"/><polygon fill="#A80036" points="366,288.9766,356,292.9766,366,296.9766,362,292.9766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="362" y="275.1201">get_cpu_percentage(pid)</text><polygon fill="#A80036" points="499,326.3281,509,330.3281,499,334.3281,503,330.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="505" y1="330.3281" y2="330.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="41" y="325.4717">get_process_report(save_file_name, command)</text><polygon fill="#A80036" points="814,356.6797,824,360.6797,814,364.6797,818,360.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="521" x2="820" y1="360.6797" y2="360.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="528" y="355.8232">powerlog.exe -file save_file_name -cmd command</text><polygon fill="#A80036" points="338,417.0313,348,421.0313,338,425.0313,342,421.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="344" y1="421.0313" y2="421.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="41" y="416.1748">join()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="451.3828" y2="451.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="451.3828" y2="464.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="464.3828" y2="464.3828"/><polygon fill="#A80036" points="45,460.3828,35,464.3828,45,468.3828,41,464.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="41" y="446.5264">estimate_process_power_consumption()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="494.7344" y2="494.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="494.7344" y2="507.7344"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="507.7344" y2="507.7344"/><polygon fill="#A80036" points="45,503.7344,35,507.7344,45,511.7344,41,507.7344" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="41" y="489.8779">save_results()</text><!--MD5=[80c4b69896bea55bc4c9763beaf6bf3b]
@startuml

participant "Main" as MAIN
participant "Utils" as UTILS
participant "Thread" as THRD
participant "PowerLog" as PL
participant "Intel Power Gadget" as IPG

activate MAIN
MAIN -> UTILS: initialize_files()
activate UTILS
deactivate UTILS

MAIN -> THRD**: create(target = process_usage, args = 0)

MAIN-> MAIN: pid = getpid()
MAIN -> THRD: start()
activate THRD
loop 
THRD -> THRD: get_cpu_percentage(pid)
end loop 
MAIN -> PL: get_process_report(save_file_name, command)
activate PL
PL -> IPG: powerlog.exe -file save_file_name -cmd command
activate IPG

deactivate IPG
deactivate PL
MAIN -> THRD : join()
deactivate THRD

MAIN -> MAIN: estimate_process_power_consumption()

MAIN -> MAIN: save_results()

@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 GMT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>